# Importing libraries
import pycountry
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from err_ranges import err_ranges
from sklearn.cluster import KMeans
from scipy.optimize import curve_fit
from sklearn.preprocessing import StandardScaler


# Function to read Climate Indicator data from a CSV file and return two dataframes
def load_climate_indicator_data(file):
    """
    This function loads the data and converts it into two formats:
    One has years as columns and the other has country names as columns.
    
    Parameter:
        file: Name of the data file.
    
    Returns:
        year_data: Dataframe with years as columns
        country_data: Dataframe with country names as columns
        
    """
     # Read the CSV file and skip the first 4 rows
    df = pd.read_csv(file, skiprows=4)
    
    # Drop unnecessary columns
    df = df.iloc[:, :-1]
    
    # Create a copy of the dataset with years as columns
    year_data = df.copy()
    
    # Create a dataset with countries as columns
    country_data = df.set_index(["Country Name", "Indicator Name"])
    country_data.drop(["Country Code", "Indicator Code"], axis=1, inplace=True)
    
    # Transpose the countries dataframe
    country_data = country_data.T
    
    # Return the years and countries dataframes
    return year_data, country_data


filename = 'climate_indicators.csv'
data_frame, countries = load_climate_indicator_data(filename)

